<div ng-controller="ProfilerCallStackCtrl">
    <accordion close-others="false">
        <accordion-group ng-repeat="call in calls" ng-click="showCall(call)" heading="[[call.timeSubStack]] ms - [[call.content | limitTo : 200]]">
            <div ng-include="'call.html'"></div>
        </accordion-group>
    </accordion>
</div>

<script type="text/ng-template"  id="callStack.html">
    <div>
        <span>[[_.('profiler.scenario.test.measure.callStack.subStack')]]:</span>
        <div>
            <accordion close-others="false">
                <accordion-group ng-repeat="call in call.calls" ng-click="showCall(call)" heading="[[call.timeSubStack]] ms - [[call.content | limitTo : 200]]">
                    <div ng-include="'call.html'"></div>
                </accordion-group>
            </accordion>
        </div>
</script>

<script type="text/ng-template"  id="call.html">
    <table>
        <tr>
            <td>[[_.('profiler.scenario.test.measure.callStack.file')]]:</td>
            <td>[[call.file]]</td>
        </tr>
        <tr>
            <td>[[_.('profiler.scenario.test.measure.callStack.line')]]:</td>
            <td>[[call.line]]</td>
        </tr>
        <tr>
            <td>[[_.('profiler.scenario.test.measure.callStack.time')]]:</td>
            <td>[[call.timeSubStack]]</td>
        </tr>
    </table>
    <div ng-if="call.calls" ng-include="'callStack.html'"></div>
</script>

